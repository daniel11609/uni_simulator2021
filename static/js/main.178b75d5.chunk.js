(this.webpackJsonpuni_sim=this.webpackJsonpuni_sim||[]).push([[0],{51:function(e,t,r){},52:function(e,t,r){},73:function(e,t,r){},75:function(e,t,r){},76:function(e,t,r){},82:function(e,t,r){},83:function(e,t,r){},84:function(e,t,r){},85:function(e,t,r){},86:function(e,t,r){},87:function(e,t,r){},88:function(e,t,r){"use strict";r.r(t);var s=r(1),o=r(0),a=r.n(o),n=r(15),i=r.n(n),c=(r(73),r(4)),p=r.n(c),l=r(7),u=r(8),m=r(10),d=r(12),h=r(11),f=(r(75),r(118)),g=r(120),_=r(122),j=r(124),b=r(123),x=r(125),v=r(63),O=r(56),y=r.n(O),k=r(28),N=r.n(k),S=r(37),w=r.n(S),C=r(42),I=r.n(C),P=r(54),q=r.n(P),J=r(55),M=r.n(J),B=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(e){var s;return Object(u.a)(this,r),(s=t.call(this,e)).state={id:s.props.id,amount:s.props.amount},s}return Object(m.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.ticker=setInterval((function(){return e.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.ticker)}},{key:"render",value:function(){return Object(s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end"},children:[this.state.amount+" ",Object(s.jsx)("span",{style:{width:"8px"}}),this.props.children]})}},{key:"tick",value:function(){var e=localStorage.getItem("user_name"),t=JSON.parse(localStorage.getItem(e+"_currencies_"+this.props.id));this.setState({amount:t.amount})}}]),r}(a.a.Component),D=(r(76),function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(e){var s;return Object(u.a)(this,r),(s=t.call(this,e)).classes=Object(f.a)((function(e){return{root:{flexGrow:1,display:"flex",zIndex:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),s.state={page:s.props.mainstate.page,user_name:s.props.mainstate.user_name},s}return Object(m.a)(r,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:this.classes.root,children:Object(s.jsx)(g.a,{position:"static",children:Object(s.jsxs)(_.a,{style:{justifyContent:"space-between"},children:[Object(s.jsxs)("div",{className:"nav-container-left",children:[Object(s.jsxs)("div",{className:"playing-as",children:["Playing as ",Object(s.jsx)("strong",{children:this.state.user_name}),Object(s.jsx)("span",{style:{marginRight:"5px"}}),Object(s.jsx)(q.a,{style:{cursor:"pointer"},onClick:Object(l.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.logout();case 2:case"end":return t.stop()}}),t)})))})]}),Object(s.jsx)(b.a,{edge:"start",className:this.classes.menuButton,color:"inherit","aria-label":"menu",style:{paddingTop:"7px"},children:Object(s.jsxs)(v.a,{className:this.classes.paper,style:{height:"42px"},children:[Object(s.jsx)(j.a,{children:Object(s.jsx)(M.a,{onClick:Object(l.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.change_page("game");case 2:case"end":return t.stop()}}),t)})))})}),Object(s.jsx)(j.a,{onClick:Object(l.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.change_page("shop");case 2:case"end":return t.stop()}}),t)}))),children:" Shop "}),Object(s.jsx)(j.a,{onClick:Object(l.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.change_page("profs");case 2:case"end":return t.stop()}}),t)}))),children:" Profs "}),Object(s.jsx)(j.a,{children:Object(s.jsx)(y.a,{onClick:Object(l.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.change_page("settings");case 2:case"end":return t.stop()}}),t)})))})})]})})]}),Object(s.jsx)("h5",{className:"display-5 game-title",children:"Uni-Simulator 2021"}),Object(s.jsxs)(x.a,{direction:"column",style:{width:"100px"},children:[Object(s.jsx)(x.a,{item:!0,xs:9,spacing:3,style:{paddingTop:"5px",paddingBottom:"5px"},children:Object(s.jsx)(v.a,{className:this.classes.paper,children:Object(s.jsxs)(B,{id:1,name:"students",amount:0,children:[" ",Object(s.jsx)(N.a,{})," "]})})}),Object(s.jsx)(x.a,{item:!0,xs:9,spacing:3,style:{paddingBottom:"5px"},children:Object(s.jsx)(v.a,{className:this.classes.paper,children:Object(s.jsxs)(B,{id:2,name:"exmat",amount:0,children:[" ",Object(s.jsx)(w.a,{})," "]})})}),Object(s.jsx)(x.a,{item:!0,xs:9,spacing:3,style:{paddingBottom:"5px"},children:Object(s.jsx)(v.a,{className:this.classes.paper,children:Object(s.jsxs)(B,{id:3,name:"degree",amount:0,children:[" ",Object(s.jsx)(I.a,{})," "]})})})]})]})})})}}]),r}(a.a.Component)),R=(r(82),function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(e){var s;return Object(u.a)(this,r),(s=t.call(this,e)).state={user_name:"",error:""},s}return Object(m.a)(r,[{key:"login",value:function(){var e=Object(l.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.state.error.length){e.next=3;break}return e.next=3,this.props.set_user_name(this.state.user_name);case 3:window.location.reload();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"name_change",value:function(){var e=Object(l.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.length<3)){e.next=5;break}return e.next=3,this.setState({user_name:t,error:"Your username has to be at least 3 characters long."});case 3:e.next=12;break;case 5:if(!(t.length>20)){e.next=10;break}return e.next=8,this.setState({user_name:t,error:"Your username cannot be longer than 20 characters."});case 8:e.next=12;break;case 10:return e.next=12,this.setState({user_name:t,error:""});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"Login",children:[Object(s.jsx)("div",{className:"login-error",children:this.state.error}),Object(s.jsxs)("div",{className:"input-group mb-3",children:[Object(s.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:"@"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1",onChange:function(){var t=Object(l.a)(p.a.mark((function t(r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.name_change(r.target.value);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})]}),Object(s.jsx)("button",{type:"button",className:"btn btn-success btn-play",onClick:Object(l.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.login();case 2:case"end":return t.stop()}}),t)}))),disabled:0!==this.state.error.length,children:"Play"})]})}}]),r}(a.a.Component)),A=(r(83),r(51),function e(){Object(u.a)(this,e)});A.rooms=[{id:1,purchased:!0,running:!1,starting_time:0,progress:0,locked:!1,name:"Biology",equipment:0,capacity:5,prof:-1,price:10},{id:2,purchased:!1,running:!1,starting_time:0,progress:0,locked:!1,name:"Computer Science",equipment:0,capacity:7,prof:-1,price:25},{id:3,purchased:!1,running:!1,starting_time:0,progress:0,locked:!1,name:"Chemistry",equipment:0,capacity:4,prof:-1,price:50},{id:4,purchased:!1,running:!1,starting_time:0,progress:0,locked:!0,name:"Literature",equipment:0,capacity:18,prof:-1,price:100},{id:5,purchased:!1,running:!1,starting_time:0,progress:0,locked:!0,name:"Law",equipment:0,capacity:20,prof:-1,price:200},{id:6,purchased:!1,running:!1,starting_time:0,progress:0,locked:!0,name:"Maths",equipment:0,capacity:21,prof:-1,price:400},{id:7,purchased:!1,running:!1,starting_time:0,progress:0,locked:!0,name:"Mech. Engineering",equipment:0,capacity:23,prof:-1,price:800},{id:8,purchased:!1,running:!1,starting_time:0,progress:0,locked:!0,name:"Music",equipment:0,capacity:25,prof:-1,price:1600},{id:9,purchased:!1,running:!1,starting_time:0,progress:0,locked:!0,name:"Sports",equipment:0,capacity:50,prof:-1,price:3200},{id:10,purchased:!1,running:!1,starting_time:0,progress:0,locked:!0,name:"History",equipment:0,capacity:60,prof:-1,price:6400},{id:11,purchased:!1,running:!1,starting_time:0,progress:0,locked:!0,name:"Geography",equipment:0,capacity:70,prof:-1,price:12800},{id:12,purchased:!1,running:!1,starting_time:0,progress:0,locked:!0,name:"Elec. Engineering",equipment:0,capacity:80,prof:-1,price:25600},{id:13,purchased:!1,running:!1,starting_time:0,progress:0,locked:!0,name:"Art",equipment:0,capacity:100,prof:-1,price:51200}],A.items=[{id:1,image:"",image_title:"",title:"Get 100 Exmatriculations!",price:100,used_in:-1,description:"Get 100 exmatriculations for 100 Students!!!"}],A.equipmentTime=[{equipment:0,time:6e4},{equipment:1,time:45e3},{equipment:2,time:3e4},{equipment:3,time:25e3},{equipment:4,time:2e4},{equipment:5,time:15e3}],A.profs=[{id:1,name:"Prof. Lexi",locked:!0,img:"profs/prof1.svg",pop:.5,ex:.8,price:150},{id:2,name:"Prof. Huntmaster",locked:!0,img:"profs/prof4.svg",pop:1,ex:.8,price:333},{id:3,name:"Dr. Cell",locked:!1,img:"profs/prof3.svg",pop:.5,ex:.5,price:600},{id:4,name:"Dr. Caddy",locked:!0,img:"profs/prof2.svg",pop:.4,ex:.3,price:666},{id:5,name:"Dr. Strange",locked:!0,img:"profs/prof5.svg",pop:.7,ex:.1,price:1200},{id:6,name:"Prof. Bilicht",locked:!0,img:"profs/prof6.svg",pop:.8,ex:.2,price:2400},{id:7,name:"Dr. Handsome",locked:!0,img:"profs/prof7.svg",pop:.3,ex:.7,price:4800},{id:8,name:"Prof. In da H00d",locked:!0,img:"profs/prof8.svg",pop:.2,ex:2,price:9600},{id:9,name:"Dr. Lele",locked:!0,img:"profs/prof9.svg",pop:.5,ex:.69,price:19200},{id:10,name:"Dr. Krueger",locked:!0,img:"profs/prof10.svg",pop:1,ex:0,price:38400},{id:11,name:"Dr. Stommer",locked:!0,img:"profs/prof11.svg",pop:.2,ex:.9,price:76400},{id:12,name:"Prof. Pong",locked:!0,img:"profs/prof12.svg",pop:1,ex:.7,price:133769},{id:13,name:"Holy Nicotina",locked:!0,img:"profs/prof13.svg",pop:.2,ex:1,price:696969},{id:14,name:"Mc Data",locked:!0,img:"profs/prof14.svg",pop:4.2,ex:4.2,price:42e5}],A.currencies=[{id:1,name:"student",amount:1},{id:2,name:"exmat",amount:1},{id:3,name:"degree",amount:1}];var U=r(133),L=r(126),E=r(91),T=r(57),G=r.n(T),H=r(58),W=r.n(H),Y=r(59),F=r.n(Y),z=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(e){var s;return Object(u.a)(this,r),(s=t.call(this,e)).advanced_close_modal=Object(l.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({selected_prof:-1,prof_name:null,prof_img:null,free_profs:[],data_loaded:!1}),s.props.close_modal();case 2:case"end":return e.stop()}}),e)}))),s.state={free_profs:[],prof_name:null,prof_img:null,selected_prof:-1,data_loaded:!1},s}return Object(m.a)(r,[{key:"load_data",value:function(){this.setState({selected_prof:-1,prof_name:null,prof_img:null,free_profs:[]});for(var e=this.props.get_prof_locations(),t=[],r=0;r<e.length;r++)e[r][1]<=0&&t.push(e[r][0]);if(this.props.room.prof>0){var s=this.get_prof_by_id(this.props.room.prof);this.setState({prof_name:s[0],prof_img:s[1]})}this.setState({free_profs:t})}},{key:"render",value:function(){var e=this;return this.state.data_loaded||this.props.open&&(this.load_data(),this.setState({data_loaded:!0})),Object(s.jsx)("div",{className:"RoomModal",children:Object(s.jsx)(U.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:"room-modal",open:this.props.open,onClose:this.advanced_close_modal,closeAfterTransition:!0,BackdropComponent:L.a,BackdropProps:{timeout:300},children:Object(s.jsx)(E.a,{in:this.props.open,children:Object(s.jsxs)("div",{className:"room-modal-content",children:[Object(s.jsx)("h2",{id:"transition-modal-title",children:this.props.room.name}),Object(s.jsxs)("p",{children:[Object(s.jsx)(G.a,{}),Object(s.jsxs)("span",{children:[" Equipment: ",Object(s.jsxs)("strong",{children:[this.props.room.equipment," / 5"]})]}),Object(s.jsx)("span",{style:{marginLeft:"10px"}}),Object(s.jsx)("button",{className:"btn btn-primary "+(this.props.room.equipment>=5?"disabled":""),style:{padding:"0px 6px 0px 5px"},onClick:Object(l.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.add_equipment();case 2:case"end":return t.stop()}}),t)}))),children:"+"}),Object(s.jsx)("br",{}),Object(s.jsx)(W.a,{})," Capacity: ",Object(s.jsx)("strong",{children:this.props.room.capacity}),this.state.prof_name?Object(s.jsxs)("span",{children:[Object(s.jsx)("br",{}),Object(s.jsx)(F.a,{})," Teaching: ",Object(s.jsx)("strong",{children:this.state.prof_name})]}):""]}),this.state.prof_name?Object(s.jsx)("div",{children:this.render_prof()}):Object(s.jsx)("div",{children:this.render_empty()})]})})})})}},{key:"render_empty",value:function(){var e=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"This room is missing a professor."}),Object(s.jsxs)("div",{style:{display:"flex",marginBottom:"20px"},children:[Object(s.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(t){e.setState({selected_prof:t.target.value})},children:[Object(s.jsx)("option",{value:"",selected:!0,disabled:!0,hidden:!0,children:"Choose Prof"}),this.render_prof_options()]}),Object(s.jsx)("button",{className:"btn btn-primary",onClick:Object(l.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.add_prof();case 2:case"end":return t.stop()}}),t)}))),children:"Add Prof"})]}),Object(s.jsxs)("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:Math.round(100*this.props.room.progress)+"%",marginBottom:"15px"},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100",children:[Math.round(100*this.props.room.progress)," %"]}),Object(s.jsx)("button",{className:"btn btn-light "+(this.props.room.progress>0&&this.props.room.progress<1?"disabled":""),onClick:function(){e.props.run()},children:"Run Without"})]})}},{key:"add_equipment",value:function(){var e=Object(l.a)(p.a.mark((function e(){var t,r,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Math.pow(this.props.room.equipment+1+Math.round(Number(this.props.room.id)),2)+20,!window.confirm("Do you really want to upgrade this room to level "+(this.props.room.equipment+1)+" for "+t+" degrees?")){e.next=16;break}if(!(Number(this.props.load_from_storage("currencies_3").amount)<t)){e.next=5;break}return alert("Not enough balance."),e.abrupt("return");case 5:if(!(this.props.room.equipment<5)){e.next=16;break}return(r=this.props.load_from_storage("currencies_3")).amount=Number(r.amount)-t,this.props.save_to_storage("currencies_3",r),(s=this.props.room).equipment+=1,s.running=!1,s.progress=0,e.next=15,this.props.edit_room(this.props.room.id,s);case 15:this.load_data();case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add_prof",value:function(){var e=Object(l.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(-1!==this.state.selected_prof){e.next=3;break}return alert("You have to select a professor."),e.abrupt("return");case 3:return(t=this.props.room).prof=this.state.selected_prof,t.running=!1,t.progress=0,this.props.setProf(this.state.selected_prof),e.next=10,this.props.edit_room(this.props.room.id,t);case 10:this.load_data();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remove_prof",value:function(){var e=Object(l.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.room).prof=-1,t.running=!1,t.progress=0,this.props.setProf(-1),e.next=7,this.props.edit_room(this.props.room.id,t);case 7:return e.next=9,this.load_data();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render_prof",value:function(){var e=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{className:"prof-img",src:this.state.prof_img,alt:""}),Object(s.jsxs)("div",{className:"progress-bar bg-success",role:"progressbar",style:{width:Math.round(100*this.props.room.progress)+"%",marginBottom:"15px"},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100",children:[Math.round(100*this.props.room.progress)," %"]}),Object(s.jsxs)("div",{className:"prof-buttons",children:[Object(s.jsx)("button",{className:"btn btn-light "+(this.props.room.progress>0&&this.props.room.progress<1?"disabled":""),onClick:function(){e.props.run()},children:"Run"}),Object(s.jsx)("button",{className:"btn btn-danger",style:{marginLeft:"20px"},onClick:Object(l.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.remove_prof();case 2:case"end":return t.stop()}}),t)}))),children:"Remove Prof"})]})]})}},{key:"render_prof_options",value:function(){var e=this;return this.state.free_profs.map((function(t,r){return Object(s.jsx)("option",{value:t,children:e.get_prof_by_id(t)[0]},r)}))}},{key:"get_prof_by_id",value:function(e){for(var t=0;t<this.props.profs.length;t++)if(this.props.profs[t].id===Number(e))return[this.props.profs[t].name,this.props.profs[t].img]}}]),r}(a.a.Component),K=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(e){var s;return Object(u.a)(this,r),(s=t.call(this,e)).setProf=function(){var e=Object(l.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({prof_id:t});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.close_modal=Object(l.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({modal_open:!1});case 2:case"end":return e.stop()}}),e)}))),s.runCGU=function(){var e=s.props.room;e.running=!0,e.starting_time=Date.now(),s.props.edit_room(e.id,e)},s.state={reward:"",background:"",running:!1,runningTime:0,progress:0,progressUpdate:0,modal_open:!1},s}return Object(m.a)(r,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"buyRoom",value:function(){var e=localStorage.getItem("user_name"),t=JSON.parse(localStorage.getItem(e+"_currencies_3"));if(t.amount<this.props.room.price)alert("You need more Degrees to buy a new room");else{var r={id:3,name:"degree",amount:t.amount-this.props.room.price};localStorage.setItem(e+"_currencies_3",JSON.stringify(r));var s=JSON.parse(localStorage.getItem(e+"_room_"+this.props.room.id));s.locked=!1,localStorage.setItem(e+"_room_"+this.props.room.id,JSON.stringify(s)),window.location.reload()}}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"Room",children:this.props.room.locked?Object(s.jsxs)("div",{className:"locked-room",onClick:function(){e.buyRoom()},children:[Object(s.jsx)("img",{className:"locked-room locked-img",src:"misc/locked_room.svg",alt:""}),Object(s.jsxs)("div",{style:{position:"absolute"},children:[Object(s.jsx)("div",{style:{fontWeight:"700"},children:this.props.room.name}),Object(s.jsx)("div",{children:Object(s.jsxs)("span",{className:"badge bg-secondary",children:[this.props.room.price," ",Object(s.jsx)(I.a,{})]})})]})]}):Object(s.jsxs)("div",{id:this.props.room.id,className:"unlocked-room "+(1===this.props.room.id?"roof-2nd":this.props.room.id<4?"roof-1st":""),onClick:function(t){e.onRoomClick(t)},children:[Object(s.jsx)("img",{id:"room"+this.props.room.id,className:"unlocked-img",src:this.getRoomImage(this.props.room.id,this.props.room.purchased),alt:""}),Object(s.jsxs)("p",{style:{textAlign:"center",fontWeight:"500"},children:[this.props.room.name,Object(s.jsx)("span",{style:{color:"RGB(3, 223, 252)",fontWeight:"700"},children:this.props.room.progress>0?" - "+Math.round(100*this.props.room.progress)+"%":""})]}),Object(s.jsx)(z,{setProf:this.setProf,open:this.state.modal_open,run:this.runCGU,progress:this.state.progress,close_modal:this.close_modal,room:this.props.room,profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.props.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage})]})})}},{key:"onRoomClick",value:function(e){this.state.modal_open||this.setState({modal_open:!0})}},{key:"getRoomImage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=["Biology","Computer_Science","Chemistry","Literature","Law","Maths","Mech_Engineering","Music","Sports","History","Geography","Elec_Engineering","Art"],r="Rooms/Color/";return r+=t[e-1]+".svg"}},{key:"startTimer",value:function(){var e=this;this.ticker=setInterval((function(){return e.tick()}),1e3)}},{key:"tick",value:function(){var e=this.state.runningTime,t=this.state.progress;if(this.setState({runningTime:e-1,progress:t+this.state.progressUpdate}),e-1===0||t>=100){var r={id:this.props.room.id,capacity:this.props.room.capacity},s=null;if(this.props.room.prof>-1){var o=A.profs[this.props.room.prof-1];s={id:o.id,pop:o.pop,ex:o.ex}}var a=this.calcRoom(r,s),n=localStorage.getItem("user_name"),i=JSON.parse(localStorage.getItem(n+"_currencies_1")),c=JSON.parse(localStorage.getItem(n+"_currencies_2")),p=JSON.parse(localStorage.getItem(n+"_currencies_3"));i.amount=i.amount+a.studentAmount,c.amount=c.amount+a.exmatriculations,p.amount=p.amount+a.degrees,localStorage.setItem(n+"_currencies_1",JSON.stringify(i)),localStorage.setItem(n+"_currencies_2",JSON.stringify(c)),localStorage.setItem(n+"_currencies_3",JSON.stringify(p)),-1===this.props.room.prof&&(this.setState({running:!1,progress:0,progressUpdate:0}),clearInterval(this.ticker)),this.props.room.prof>-1&&(this.setState({running:!1,progress:0,progressUpdate:0}),this.runCGU())}}},{key:"calcRoom",value:function(e,t){var r,s;null===t?(r=.5,s=.5):(r=t.pop,s=t.ex);var o=e.capacity,a=Math.round(r*o+.5),n=Math.round(a*s-.5),i=a-n;return{id:e.id,capacity:o,studentAmount:a,exmatriculations:n,degrees:i}}}]),r}(a.a.Component),Q=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(u.a)(this,r);for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).get_prof_locations=function(){for(var t=[],r=0;r<e.props.profs.length;r++)if(!e.props.profs[r].locked)for(var s=0;s<e.props.rooms.length;s++){if(Number(e.props.profs[r].id)===Number(e.props.rooms[s].prof)){t.push([e.props.profs[r].id,e.props.rooms[s].id]);break}s===Number(e.props.rooms.length-1)&&t.push([e.props.profs[r].id,-1])}return t},e}return Object(m.a)(r,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"Game",children:[Object(s.jsx)("img",{className:"background-image main-container",src:"background/ground_and_sky.svg",alt:""}),Object(s.jsx)("img",{className:"background-house main-container",src:"background/building.svg",alt:""}),Object(s.jsxs)("div",{className:"flex-grid-roof",children:[Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("div",{className:"house-spacer-3rd"}),Object(s.jsx)(K,{id:"room_2",room:this.props.rooms[1],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage})]}),Object(s.jsx)("div",{className:"col",children:Object(s.jsx)(K,{id:"room_1",room:this.props.rooms[0],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage})}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("div",{className:"house-spacer-3rd"}),Object(s.jsx)(K,{id:"room_3",room:this.props.rooms[2],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage})]})]}),Object(s.jsxs)("div",{className:"flex-grid-body",children:[Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)(K,{id:"room_4",room:this.props.rooms[3],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage}),Object(s.jsx)("div",{className:"house-spacer-1st"}),Object(s.jsx)(K,{id:"room_9",room:this.props.rooms[8],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage})]}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)(K,{id:"room_5",room:this.props.rooms[4],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage}),Object(s.jsx)("div",{className:"house-spacer-1st"}),Object(s.jsx)(K,{id:"room_10",room:this.props.rooms[9],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage})]}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)(K,{id:"room_6",room:this.props.rooms[5],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage}),Object(s.jsx)("div",{className:"house-spacer-1st"}),Object(s.jsx)(K,{id:"room_11",room:this.props.rooms[10],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage})]}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)(K,{id:"room_7",room:this.props.rooms[6],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage}),Object(s.jsx)("div",{className:"house-spacer-1st"}),Object(s.jsx)(K,{id:"room_12",room:this.props.rooms[11],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage})]}),Object(s.jsxs)("div",{className:"col",children:[Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)("div",{className:"house-spacer-2nd"}),Object(s.jsx)(K,{id:"room_8",room:this.props.rooms[7],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage}),Object(s.jsx)("div",{className:"house-spacer-1st"}),Object(s.jsx)(K,{id:"room_13",room:this.props.rooms[12],profs:this.props.profs,edit_room:this.props.edit_room,get_prof_locations:this.get_prof_locations,save_to_storage:this.props.save_to_storage,load_from_storage:this.props.load_from_storage})]})]})]})}}]),r}(a.a.Component),V=(r(84),r(127)),X=r(128),Z=r(132),$=r(130),ee=r(129),te=r(131),re=(r(85),function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(m.a)(r,[{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{item_id:this.props.id,className:"ShopItem",children:Object(s.jsxs)(V.a,{className:"",children:[Object(s.jsxs)(X.a,{children:[Object(s.jsx)(ee.a,{className:"",image:this.props.image,title:this.props.image_title}),Object(s.jsxs)($.a,{children:[Object(s.jsx)(te.a,{gutterBottom:!0,variant:"h5",component:"h2",children:this.props.title}),Object(s.jsx)(te.a,{variant:"body2",color:"textSecondary",component:"p",children:this.props.description})]})]}),Object(s.jsx)(Z.a,{className:"shop-item-buttons",children:Object(s.jsxs)(j.a,{size:"small",color:"primary",onClick:function(){e.buyExmatric()},children:["Buy for ",this.props.price," ",Object(s.jsx)(N.a,{})]})})]})})}},{key:"buyExmatric",value:function(){var e=localStorage.getItem("user_name"),t=JSON.parse(localStorage.getItem(e+"_currencies_1"));if(t.amount<this.props.price)alert("You need more Students to buy this Item");else{t.amount=t.amount-this.props.price;var r=JSON.parse(localStorage.getItem(e+"_currencies_2"));r.amount=r.amount+this.props.price,localStorage.setItem(e+"_currencies_1",JSON.stringify(t)),localStorage.setItem(e+"_currencies_2",JSON.stringify(r)),alert("You sucessfully bought the item ")}}}]),r}(a.a.Component)),se=(r(52),r(61)),oe=r(60),ae=(r(86),function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(e){var s;return Object(u.a)(this,r),(s=t.call(this,e)).state={},s}return Object(m.a)(r,[{key:"render",value:function(){var e,t,r=this,o=[],a=Object(oe.a)(this.props.prof.entries());try{var n=function(){var a=Object(se.a)(t.value,2),n=a[0],i=a[1];e=i.locked?Object(s.jsx)("div",{class:"card-footer",children:Object(s.jsxs)("button",{type:"button",class:"btn btn-primary",onClick:function(){r.buyProf(i.price,n+1)},children:["Buy for ",i.price," ",Object(s.jsx)(w.a,{})]})}):"",i.locked===r.props.displayInShop&&o.push(Object(s.jsx)("div",{className:"ProfBumper",children:Object(s.jsxs)("div",{class:"card",style:{width:"18rem"},children:[Object(s.jsx)("img",{src:i.img,class:"card-img-top",alt:"..."}),Object(s.jsxs)("div",{class:"card-body",children:[Object(s.jsx)("h5",{class:"card-title",children:i.name}),Object(s.jsx)("p",{class:"card-text",children:Object(s.jsxs)("ul",{children:[Object(s.jsxs)("li",{children:[Object(s.jsx)(N.a,{})," Popularity: ",100*i.pop,"%"]}),Object(s.jsxs)("li",{children:[Object(s.jsx)(w.a,{})," Exmatriculation: ",100*i.ex,"%"]})]})})]}),e]})}))};for(a.s();!(t=a.n()).done;)n()}catch(i){a.e(i)}finally{a.f()}return Object(s.jsx)("div",{className:"ProfList",children:o})}},{key:"buyProf",value:function(e,t){var r=localStorage.getItem("user_name"),s=JSON.parse(localStorage.getItem(r+"_currencies_2")).amount;if(e>s)alert("You need to have more exmatriculations!");else{var o={id:2,name:"exmat",amount:s-e};localStorage.setItem(r+"_currencies_2",JSON.stringify(o));var a=JSON.parse(localStorage.getItem(r+"_prof_"+t));a.locked=!1,localStorage.setItem(r+"_prof_"+t,JSON.stringify(a)),window.location.reload()}}}]),r}(a.a.Component)),ne=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(e){var s;return Object(u.a)(this,r),(s=t.call(this,e)).state={},s}return Object(m.a)(r,[{key:"render",value:function(){return Object(s.jsxs)("div",{className:"ShopContainer background-div-shop ",children:[Object(s.jsx)("h1",{className:"ShopSectionHeader",children:"Profs"}),Object(s.jsx)("div",{className:"Profs",children:Object(s.jsx)(ae,{prof:this.props.profs,displayInShop:!0})}),Object(s.jsx)("h1",{className:"ShopSectionHeader item-header",children:"Items"}),Object(s.jsx)("div",{className:"Shop",children:this.props.items.map((function(e,t){return Object(s.jsx)(re,{item_id:e.id,image:e.image,image_title:e.image_title,price:e.price,used_in:e.used_in,title:e.title,description:e.description},t)}))})]})}}]),r}(a.a.Component),ie=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(e){var s;return Object(u.a)(this,r),(s=t.call(this,e)).state={},s}return Object(m.a)(r,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"Profs",children:Object(s.jsx)(ae,{prof:this.props.profs,displayInShop:!1})})}}]),r}(a.a.Component),ce=(r(87),function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(e){var s;return Object(u.a)(this,r),(s=t.call(this,e)).state={},s}return Object(m.a)(r,[{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{className:"Settings",children:[Object(s.jsx)("div",{className:"background-div"}),Object(s.jsx)("div",{className:"spacer"}),Object(s.jsxs)("div",{class:"card",style:{margin:"15px"},children:[Object(s.jsx)("div",{class:"card-header",children:"Profile administation"}),Object(s.jsxs)("div",{class:"card-body",children:[Object(s.jsx)("h5",{class:"card-title",children:"Delete your profiles"}),Object(s.jsx)("p",{class:"card-text",children:"Are you sure? All your data will be irrevocably deleted!"}),Object(s.jsx)("button",{type:"button",class:"btn btn-danger",onClick:function(){e.deleteAllProfile()},children:"Delete all profiles"})]})]})]})}},{key:"deleteAllProfile",value:function(){window.confirm("Do you really want to delete all saved data?")&&(localStorage.clear(),window.location.reload())}}]),r}(a.a.Component)),pe=function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,null,[{key:"calcRoom",value:function(e,t){var r,s;null==t?(r=.5,s=.5):(r=t.pop,s=t.ex);var o=e.capacity,a=Math.round(r*o+.5),n=Math.round(a*s-.5),i=a-n;return{id:e.id,capacity:o,studentAmount:a,exmatriculations:n,degrees:i}}}]),e}(),le=function(e){Object(d.a)(r,e);var t=Object(h.a)(r);function r(e){var s;return Object(u.a)(this,r),(s=t.call(this,e)).change_page=function(){var e=Object(l.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({page:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.logout=Object(l.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Do you really want to log out?")&&(localStorage.setItem("user_name",""),window.location.href="");case 1:case"end":return e.stop()}}),e)}))),s.edit_room=function(){var e=Object(l.a)(p.a.mark((function e(t,r){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(o=s.state.rooms)[Number(t)-1]=r,e.next=4,s.setState({rooms:o});case 4:s.save_to_storage("room_"+t,r),s.forceUpdate();case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),s.save_to_storage=function(e,t){localStorage.setItem(s.state.user_name+"_"+e,JSON.stringify(t))},s.load_from_storage=function(e){return JSON.parse(localStorage.getItem(s.state.user_name+"_"+e))},s.set_user_name=function(){var e=Object(l.a)(p.a.mark((function e(t){var r,o,a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.setState({user_name:t});case 2:return e.next=4,localStorage.setItem("user_name",t);case 4:return e.next=6,localStorage.getItem("playing_history_"+t);case 6:if(!e.sent){e.next=12;break}return console.log("Loading old game state..."),e.next=10,s.load_existing_game_state();case 10:e.next=45;break;case 12:return e.next=14,s.setState({rooms:A.rooms,items:A.items,profs:A.profs,currencies:A.currencies});case 14:r=0;case 15:if(!(r<A.rooms.length)){e.next=21;break}return e.next=18,s.save_to_storage("room_"+(r+1),s.state.rooms[r]);case 18:r++,e.next=15;break;case 21:o=0;case 22:if(!(o<A.items.length)){e.next=28;break}return e.next=25,s.save_to_storage("item_"+(o+1),s.state.items[o]);case 25:o++,e.next=22;break;case 28:a=0;case 29:if(!(a<A.profs.length)){e.next=35;break}return e.next=32,s.save_to_storage("prof_"+(a+1),s.state.profs[a]);case 32:a++,e.next=29;break;case 35:n=0;case 36:if(!(n<A.currencies.length)){e.next=42;break}return e.next=39,s.save_to_storage("currencies_"+(n+1),s.state.currencies[n]);case 39:n++,e.next=36;break;case 42:return localStorage.setItem("playing_history_"+t,"true"),e.next=45,s.setState({page:"game"});case 45:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.state={loading:!0},s}return Object(m.a)(r,[{key:"componentDidMount",value:function(){var e=this;this.state.loading&&this.game_state_loader().then((function(){e.setState({loading:!1,exit_time_update_process:setInterval((function(){return e.exit_time_updater()}),1e3)})}))}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.exit_time_update_process)}},{key:"render",value:function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl",crossOrigin:"anonymous"}),Object(s.jsx)("div",{className:"main-container",children:this.state.loading?Object(s.jsx)("div",{children:"Loading..."}):Object(s.jsxs)("div",{children:["login"===this.state.page?Object(s.jsx)("h1",{className:"display-3 login-header",children:"Uni-Simulator 2021"}):Object(s.jsx)("div",{className:"main-nav",children:Object(s.jsx)(D,{className:"main-nav",mainstate:this.state,logout:this.logout,change_page:this.change_page})}),this.page_handler()]})})]})}},{key:"page_handler",value:function(){switch(this.state.page){case"login":return Object(s.jsx)(R,{set_user_name:this.set_user_name});case"game":return Object(s.jsx)(Q,{save_to_storage:this.save_to_storage,load_from_storage:this.load_from_storage,rooms:this.state.rooms,profs:this.state.profs,edit_room:this.edit_room});case"shop":return Object(s.jsx)(ne,{items:this.state.items,profs:this.state.profs});case"profs":return Object(s.jsx)(ie,{profs:this.state.profs});case"settings":return Object(s.jsx)(ce,{});default:return"Something unexpected has happened. Please refresh your page."}}},{key:"exit_time_updater",value:function(){if("login"!==this.state.page){this.save_to_storage("exit_time",Date.now());for(var e=this.state.rooms,t=0;t<e.length;t++)if(e[t].running){var r=A.equipmentTime[e[t].equipment].time,s=e[t].starting_time,o=(Date.now()-s)/r,a=Math.floor(o),n=s+a*r,i=o-a,c={id:e[t].id,capacity:e[t].capacity},p=null;if(e[t].prof>-1){var l=A.profs[e[t].prof-1];p={id:l.id,pop:l.pop,ex:l.ex}}e[t].starting_time=n,e[t].progress=i,this.edit_room(e[t].id,e[t]).then((function(e){return null}));for(var u=0,m=0,d=0,h=0;h<a;h++){var f=pe.calcRoom(c,p);u+=f.studentAmount,m+=f.exmatriculations,d+=f.degrees}var g=this.load_from_storage("currencies_1");g.amount=Number(g.amount)+u,this.save_to_storage("currencies_1",g),(g=this.load_from_storage("currencies_2")).amount=Number(g.amount)+m,this.save_to_storage("currencies_2",g),(g=this.load_from_storage("currencies_3")).amount=Number(g.amount)+d,this.save_to_storage("currencies_3",g)}}}},{key:"game_state_loader",value:function(){var e=Object(l.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("user_name")||""===localStorage.getItem("user_name")){e.next=8;break}return console.log("Found session..."),e.next=4,this.setState({page:"game",user_name:localStorage.getItem("user_name")});case 4:return e.next=6,this.load_existing_game_state();case 6:e.next=10;break;case 8:return e.next=10,this.setState({page:"login",user_name:""});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"load_existing_game_state",value:function(){var e=Object(l.a)(p.a.mark((function e(){var t,r,s,o,a,n,i,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=[],s=[],o=[],a=0;case 5:if(!(a<A.rooms.length)){e.next=15;break}return e.t0=t,e.next=9,this.load_from_storage("room_"+(a+1));case 9:return e.t1=e.sent,e.next=12,e.t0.push.call(e.t0,e.t1);case 12:a++,e.next=5;break;case 15:n=0;case 16:if(!(n<A.items.length)){e.next=26;break}return e.t2=r,e.next=20,this.load_from_storage("item_"+(n+1));case 20:return e.t3=e.sent,e.next=23,e.t2.push.call(e.t2,e.t3);case 23:n++,e.next=16;break;case 26:i=0;case 27:if(!(i<A.profs.length)){e.next=37;break}return e.t4=s,e.next=31,this.load_from_storage("prof_"+(i+1));case 31:return e.t5=e.sent,e.next=34,e.t4.push.call(e.t4,e.t5);case 34:i++,e.next=27;break;case 37:c=0;case 38:if(!(c<A.currencies.length)){e.next=48;break}return e.t6=o,e.next=42,this.load_from_storage("currencies_"+(c+1));case 42:return e.t7=e.sent,e.next=45,e.t6.push.call(e.t6,e.t7);case 45:c++,e.next=38;break;case 48:return e.next=50,this.setState({items:r,rooms:t,profs:s,currencies:o});case 50:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(a.a.Component),ue=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,135)).then((function(t){var r=t.getCLS,s=t.getFID,o=t.getFCP,a=t.getLCP,n=t.getTTFB;r(e),s(e),o(e),a(e),n(e)}))};i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(le,{})}),document.getElementById("root")),ue()}},[[88,1,2]]]);
//# sourceMappingURL=main.178b75d5.chunk.js.map